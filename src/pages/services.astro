---
import { getCollection, render } from "astro:content";
import Base from "../layouts/Base.astro";
import CTA from "../components/CTA.astro";

const sections = (await getCollection("services")).sort(
  (a, b) => a.data.order - b.data.order
);

const rendered = await Promise.all(
  sections.map(async (s) => ({
    ...s,
    rendered: await render(s),
  }))
);

const icons: Record<string, string> = {
  "standard": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>`,
  "subscription": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg>`,
  "custom": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`,
};
---

<Base title="Services | Plain Sight" description="Web development services â€” quick sites, custom builds, audits, redesigns, and more.">
  <main class="container pt-22 max-md:pt-16">
    <!-- Hero Section -->
    {rendered.filter(s => s.data.section === "intro").map((section) => {
      const Content = section.rendered?.Content;
      const d = section.data;
      return (
        <section class="py-14 max-md:py-10 max-md:mb-16">
          <h1 class="font-heading text-page-hero font-black tracking-tighter leading-snug mb-6 max-w-[1000px]">{d.heading}</h1>
          {Content && (
            <div class="prose-services max-w-[960px] text-[1.5rem] text-text-muted leading-[1.7]">
              <Content />
            </div>
          )}
        </section>
      );
    })}

    <!-- Service Cards Grid -->
    <div class="grid grid-cols-3 max-lg:grid-cols-1 gap-6 mb-32 max-md:mb-24">
      <!-- Card 1: Standard -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="text-accent mb-4" set:html={icons["standard"]} />
        <h2 class="text-[2rem] font-bold leading-tight tracking-tight mb-4 text-text">Standard</h2>
        <p class="text-[1.0625rem] text-text-muted leading-relaxed mb-8">Quality design and development, built quickly.</p>

        <ul class="space-y-3 mb-auto">
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Design and development included</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Up to 5 pages</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Low hosting cost</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Fast turnaround</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Optional ongoing support</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Optional features available</span>
          </li>
        </ul>

        <a href="/contact" class="mt-8 w-full inline-flex items-center justify-center py-3.5 px-6 bg-accent text-bg rounded-lg font-semibold text-[0.9375rem] hover:bg-accent-hover hover:no-underline transition-all duration-300 ease-out-expo hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0 active:duration-100">
          Get Started
        </a>
      </article>

      <!-- Card 2: Subscription -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="text-accent mb-4" set:html={icons["subscription"]} />
        <h2 class="text-[2rem] font-bold leading-tight tracking-tight mb-4 text-text">Subscription</h2>
        <p class="text-[1.0625rem] text-text-muted leading-relaxed mb-8">Quality design and development, built quickly, with no upfront cost.</p>

        <ul class="space-y-3 mb-auto">
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Flat monthly rate, no upfront cost</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Design and development included</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Up to 5 pages</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Hosting included</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Ongoing support and updates</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Optional features available</span>
          </li>
        </ul>

        <a href="/contact" class="mt-8 w-full inline-flex items-center justify-center py-3.5 px-6 bg-accent text-bg rounded-lg font-semibold text-[0.9375rem] hover:bg-accent-hover hover:no-underline transition-all duration-300 ease-out-expo hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0 active:duration-100">
          Get Started
        </a>
      </article>

      <!-- Card 3: Custom Builds -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="text-accent mb-4" set:html={icons["custom"]} />
        <h2 class="text-[2rem] font-bold leading-tight tracking-tight mb-4 text-text">Custom builds</h2>
        <p class="text-[1.0625rem] text-text-muted leading-relaxed mb-8">Fully custom sites designed around your unique requirements.</p>

        <ul class="space-y-3 mb-auto">
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Custom design from scratch</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Strategic consultation and planning</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Complex functionality support</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Can include e-commerce, bookings, APIs</span>
          </li>
          <li class="flex items-start gap-3 text-[0.9375rem] text-text-muted">
            <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>For unique business requirements</span>
          </li>
        </ul>

        <a href="/contact" class="mt-8 w-full inline-flex items-center justify-center py-3.5 px-6 bg-accent text-bg rounded-lg font-semibold text-[0.9375rem] hover:bg-accent-hover hover:no-underline transition-all duration-300 ease-out-expo hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0 active:duration-100">
          Get Started
        </a>
      </article>
    </div>
  </main>

  <!-- Everything else Section -->
  <section class="relative py-section max-md:py-20 bg-gradient-to-b from-surface-alt to-surface-gradient-end">
    <div class="container">
      <div class="mb-16 max-md:mb-12">
        <h2 class="font-heading text-[3rem] max-md:text-[2.5rem] font-black tracking-tighter leading-tight mb-4">Everything else</h2>
        <p class="text-[1.5rem] text-text-muted leading-relaxed max-w-[800px]">Already have a site? Good. Let's make it better.</p>
      </div>

      <div class="grid grid-cols-3 max-lg:grid-cols-1 gap-12 max-md:gap-10">
        <div>
          <div class="mb-4 text-accent">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/>
              <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
          </div>
          <h3 class="text-[1.75rem] font-bold mb-4 text-text tracking-tight">Site audits</h3>
          <p class="text-[1.0625rem] text-text-muted leading-relaxed">Not sure what's working and what's holding you back? We'll take a hard look at your current site and give you an honest breakdown of what's helping, what's hurting, and what we can do about it.</p>
        </div>

        <div>
          <div class="mb-4 text-accent">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/>
              <circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/>
              <circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/>
              <circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/>
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>
            </svg>
          </div>
          <h3 class="text-[1.75rem] font-bold mb-4 text-text tracking-tight">Redesigns & revamps</h3>
          <p class="text-[1.0625rem] text-text-muted leading-relaxed">Yes, your site works, but... it still has stock photos of people high-fiving in a conference room. Let us bring it into to 2026 with a fresh design that represents where your business is now.</p>
        </div>

        <div>
          <div class="mb-4 text-accent">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
            </svg>
          </div>
          <h3 class="text-[1.75rem] font-bold mb-4 text-text tracking-tight">Fixes & upgrades</h3>
          <p class="text-[1.0625rem] text-text-muted leading-relaxed">Something broken, outdated, or just plain bugging you? Got a list of fixes that you've been putting off for a year? We can jump in and sort it out.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  {rendered.filter(s => s.data.section === "cta").map((section) => {
    const Content = section.rendered?.Content;
    const d = section.data;
    return (
      <CTA heading={d.heading} ctaText={d.cta_text} ctaLink={d.cta_link}>
        {Content && <Content />}
      </CTA>
    );
  })}
</Base>
