---
import { getCollection, render } from "astro:content";
import Base from "../layouts/Base.astro";
import CTA from "../components/CTA.astro";

const sections = (await getCollection("services")).sort(
  (a, b) => a.data.order - b.data.order
);

const rendered = await Promise.all(
  sections.map(async (s) => ({
    ...s,
    rendered: await render(s),
  }))
);

const checkIcon = `<svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>`;

const icons: Record<string, string> = {
  "standard": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>`,
  "subscription": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6M1 20v-6h6"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg>`,
  "custom": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`,
  "audits": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>`,
  "redesigns": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg>`,
  "fixes": `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`,
};
---

<Base title="Services | Plain Sight | Vancouver Web Design and Development" description="Web development services — quick sites, custom builds, audits, redesigns, and more.">
  <main class="container pt-22 max-md:pt-8">
    <!-- Hero Section -->
    {rendered.filter(s => s.data.section === "intro").map((section) => {
      const Content = section.rendered?.Content;
      const d = section.data;
      return (
        <section class="py-14 max-md:py-10 max-md:mb-16">
          <h1 class="font-heading text-page-hero font-black tracking-tighter leading-snug mb-6 max-w-[1000px]">{d.heading}</h1>
          {Content && (
            <div class="max-w-[960px] text-page-subheading text-text-muted leading-[1.7]">
              <Content />
            </div>
          )}
        </section>
      );
    })}

    <!-- Service Cards Grid -->
    <div class="grid grid-cols-3 max-lg:grid-cols-1 gap-6 mb-10 max-md:mb-8">
      <!-- Card 1: Standard -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="flex items-center gap-3 mb-4">
          <div class="text-accent" set:html={icons["standard"]} />
          <h2 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Standard</h2>
        </div>
        <p class="text-body text-text-muted leading-relaxed mb-6">Perfect for businesses that know what they need: a professional site that works. Quick kickoff call, fast execution, polished result.</p>

        <div class="card-accordion flex flex-col flex-1">
          <div class="card-acc-section" data-open="true">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="true">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">What's included</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out">
              <ul class="space-y-3 pt-3 pb-4">
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Design and development included</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Up to 5 pages</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Fast turnaround</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Hosting setup and management available</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Optional maintenance plan for content updates</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Additional features: blogs, galleries, booking, e-commerce, and more</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="card-acc-section mt-auto" data-open="false">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="false">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">Who is this for?</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
              <ul class="space-y-2 pt-3 pb-4">
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Service businesses needing a professional presence</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Authors and creatives showcasing their work</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Local businesses attracting nearby customers</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Anyone outgrowing DIY tools like Squarespace</span></li>
              </ul>
            </div>
          </div>
        </div>
      </article>

      <!-- Card 2: Subscription -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="flex items-center gap-3 mb-4">
          <div class="text-accent" set:html={icons["subscription"]} />
          <h2 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Subscription</h2>
        </div>
        <p class="text-body text-text-muted leading-relaxed mb-6">Know what you need but want to avoid upfront costs? We'll build your site and handle everything ongoing. Quick kickoff, fast launch, then we take care of hosting, updates, and support.</p>

        <div class="card-accordion flex flex-col flex-1">
          <div class="card-acc-section" data-open="true">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="true">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">What's included</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out">
              <ul class="space-y-3 pt-3 pb-4">
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Flat monthly rate, no upfront cost</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Design and development included</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Up to 5 pages</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Hosting, support, and updates all included</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Additional features: blogs, galleries, booking, e-commerce, and more</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="card-acc-section mt-auto" data-open="false">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="false">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">Who is this for?</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
              <ul class="space-y-2 pt-3 pb-4">
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Businesses just getting started</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Anyone who wants to avoid upfront costs</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Clients who want everything handled</span></li>
              </ul>
            </div>
          </div>
        </div>
      </article>

      <!-- Card 3: Custom Builds -->
      <article class="bg-gradient-to-b from-surface-alt to-surface-gradient-end rounded-2xl p-8 max-md:p-6 flex flex-col transition-colors duration-300">
        <div class="flex items-center gap-3 mb-4">
          <div class="text-accent" set:html={icons["custom"]} />
          <h2 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Custom builds</h2>
        </div>
        <p class="text-body text-text-muted leading-relaxed mb-6">Fully custom sites designed around your unique requirements. For advanced functionality and integrations, or projects that need strategic discovery to get clarity first.</p>

        <div class="card-accordion flex flex-col flex-1">
          <div class="card-acc-section" data-open="true">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="true">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">What's included</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out">
              <ul class="space-y-3 pt-3 pb-4">
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Custom design from scratch</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Strategic consultation and planning</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Complex functionality support</span>
                </li>
                <li class="flex items-start gap-3 text-body-sm text-text-muted">
                  <span set:html={checkIcon} />
                  <span>Advanced integrations</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="card-acc-section mt-auto" data-open="false">
            <button class="card-acc-button w-full flex items-center justify-between gap-4 pt-4 pb-2 text-left cursor-pointer border-b border-border-alt" type="button" aria-expanded="false">
              <span class="text-label font-semibold tracking-widest uppercase text-text-dim">Who is this for?</span>
              <svg class="card-acc-chevron shrink-0 w-4 h-4 text-text-dim" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            </button>
            <div class="card-acc-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
              <ul class="space-y-2 pt-3 pb-4">
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>E-commerce and online booking systems</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Complex membership or content platforms</span></li>
                <li class="flex items-baseline gap-2 text-body-sm text-text-muted"><span class="text-accent shrink-0">›</span><span>Businesses with unique technical requirements</span></li>
              </ul>
            </div>
          </div>
        </div>
      </article>
    </div>

    <div class="flex justify-center mb-32 max-md:mb-24">
      <a href="/contact" class="inline-flex items-center justify-center py-4 px-10 bg-accent text-bg rounded-lg font-semibold text-cta hover:bg-accent-hover hover:no-underline transition-all duration-300 ease-out-expo hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0 active:duration-100">
        Get started
      </a>
    </div>
  </main>

  <!-- Common Add-ons Section -->
  <section class="dark-section relative py-section max-md:py-20 bg-[var(--color-bg-dark-process)]">
    <div class="container">
      <div class="mb-12 max-md:mb-10">
        <h2 class="font-heading text-subsection-title font-black tracking-tighter leading-tight text-text mb-4">Make it work harder</h2>
        <p class="text-section-subtitle text-text-muted leading-relaxed">Optional features for Standard and Subscription plans.</p>
      </div>

      <div class="grid grid-cols-2 max-md:grid-cols-1 gap-8 max-md:gap-6 mb-10">
        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">Additional pages</h3>
            <p class="text-body text-text-muted leading-relaxed">Need more pages? Add as many as you want, priced per page.</p>
          </div>
        </div>

        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">CMS</h3>
            <p class="text-body text-text-muted leading-relaxed">For sites that need regular updates. Edit your own content without touching code.</p>
          </div>
        </div>

        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="7" y1="13" x2="17" y2="13"/><line x1="7" y1="17" x2="13" y2="17"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">Blog</h3>
            <p class="text-body text-text-muted leading-relaxed">Publish articles, news, or updates. Great for SEO and staying relevant.</p>
          </div>
        </div>

        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d="M8 14l2 2 4-4"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">Booking & events</h3>
            <p class="text-body text-text-muted leading-relaxed">Integrates with platforms like Calendly, Acuity, and Jane for online booking.</p>
          </div>
        </div>

        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">Email integration</h3>
            <p class="text-body text-text-muted leading-relaxed">Capture leads and grow your list. Connects with platforms like Mailchimp and HubSpot.</p>
          </div>
        </div>

        <div class="flex items-start gap-5">
          <div class="shrink-0 text-secondary" aria-hidden="true">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>
            </svg>
          </div>
          <div>
            <h3 class="text-item-title font-bold text-text mb-2 tracking-tight leading-tight">Photo galleries & portfolios</h3>
            <p class="text-body text-text-muted leading-relaxed">Showcase your work with organized, beautiful image displays.</p>
          </div>
        </div>
      </div>

      <p class="text-section-subtitle text-text-muted">Need something else? <a href="/contact" class="text-secondary hover:underline">Just ask.</a></p>
    </div>
  </section>

  <!-- Everything else Section -->
  <section class="relative py-section max-md:py-20 bg-gradient-to-b from-surface-alt to-surface-gradient-end">
    <div class="container">
      <div class="mb-16 max-md:mb-12">
        <h2 class="font-heading text-subsection-title font-black tracking-tighter leading-tight mb-4">Everything else</h2>
        <p class="text-section-subtitle text-text-muted leading-relaxed max-w-[800px]">Already have a site? Good. Let's make it better.</p>
      </div>

      <div class="grid grid-cols-3 max-lg:grid-cols-1 gap-12 max-md:gap-10">
        <div>
          <div class="flex items-center gap-3 mb-4">
            <div class="text-accent" set:html={icons["audits"]} />
            <h3 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Site audits</h3>
          </div>
          <p class="text-body text-text-muted leading-relaxed">Not sure what's working and what's holding you back? We'll take a hard look at your current site and give you an honest breakdown of what's helping, what's hurting, and what we can do about it.</p>
        </div>

        <div>
          <div class="flex items-center gap-3 mb-4">
            <div class="text-accent" set:html={icons["redesigns"]} />
            <h3 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Redesigns & revamps</h3>
          </div>
          <p class="text-body text-text-muted leading-relaxed">Yes, your site works, but... it still has stock photos of people high-fiving in a conference room. Let us bring it into to 2026 with a fresh design that represents where your business is now.</p>
        </div>

        <div>
          <div class="flex items-center gap-3 mb-4">
            <div class="text-accent" set:html={icons["fixes"]} />
            <h3 class="text-item-title font-bold leading-tight tracking-tight text-text mb-2">Fixes & upgrades</h3>
          </div>
          <p class="text-body text-text-muted leading-relaxed">Something broken, outdated, or just plain bugging you? Got a list of fixes that you've been putting off for a year? We can jump in and sort it out.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="relative py-section max-md:py-20 bg-bg">
    <div class="container">
      <div class="mb-12 max-md:mb-10">
        <h2 class="font-heading text-subsection-title font-black tracking-tighter leading-tight mb-4">Frequently asked questions</h2>
      </div>
      <div class="max-w-[800px] divide-y divide-border-alt" id="faq-list">
        <div class="faq-item -mx-4 px-4 hover:bg-surface-alt transition-colors duration-200" data-open="true">
          <button class="faq-button w-full flex items-center justify-between gap-6 py-5 text-left cursor-pointer" type="button" aria-expanded="true">
            <span class="text-section-subtitle font-semibold text-text tracking-tight">How long does it take?</span>
            <svg class="faq-chevron shrink-0 w-5 h-5 text-accent transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="faq-content overflow-hidden transition-[height] duration-300 ease-in-out">
            <p class="text-body text-text-muted leading-relaxed pb-5">Standard and Subscription sites typically launch in 2–4 weeks. Custom builds take longer and timelines are discussed on a case-by-case basis depending on complexity.</p>
          </div>
        </div>

        <div class="faq-item -mx-4 px-4 hover:bg-surface-alt transition-colors duration-200" data-open="false">
          <button class="faq-button w-full flex items-center justify-between gap-6 py-5 text-left cursor-pointer" type="button" aria-expanded="false">
            <span class="text-section-subtitle font-semibold text-text tracking-tight">How long does the subscription last?</span>
            <svg class="faq-chevron shrink-0 w-5 h-5 text-accent transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="faq-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
            <p class="text-body text-text-muted leading-relaxed pb-5">There's a 12-month minimum commitment. After that, the subscription continues month-to-month for as long as you want to keep your site live and maintained.</p>
          </div>
        </div>

        <div class="faq-item -mx-4 px-4 hover:bg-surface-alt transition-colors duration-200" data-open="false">
          <button class="faq-button w-full flex items-center justify-between gap-6 py-5 text-left cursor-pointer" type="button" aria-expanded="false">
            <span class="text-section-subtitle font-semibold text-text tracking-tight">What happens if I cancel my subscription?</span>
            <svg class="faq-chevron shrink-0 w-5 h-5 text-accent transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="faq-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
            <p class="text-body text-text-muted leading-relaxed pb-5">If you cancel after the 12-month minimum, your site goes offline and you stop paying. If you cancel before the 12 months are up, you'll owe the remaining balance (the cost of a Standard site minus what you've already paid in subscription fees).</p>
          </div>
        </div>

        <div class="faq-item -mx-4 px-4 hover:bg-surface-alt transition-colors duration-200" data-open="false">
          <button class="faq-button w-full flex items-center justify-between gap-6 py-5 text-left cursor-pointer" type="button" aria-expanded="false">
            <span class="text-section-subtitle font-semibold text-text tracking-tight">Why wouldn't I just use a DIY page builder like Squarespace or Wix?</span>
            <svg class="faq-chevron shrink-0 w-5 h-5 text-accent transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="faq-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
            <p class="text-body text-text-muted leading-relaxed pb-5">Squarespace and Wix are solid tools. But building something that looks professional and polished is harder than you'd think. You'll spend weeks learning the platform, making design decisions, and tinkering with details trying to get everything just right... and you might still end up with a site that doesn't bring in customers.<br><br>Instead, you could leave it to the experts and get a professional site done quickly while you focus on what you do best.</p>
          </div>
        </div>

        <div class="faq-item -mx-4 px-4 hover:bg-surface-alt transition-colors duration-200" data-open="false">
          <button class="faq-button w-full flex items-center justify-between gap-6 py-5 text-left cursor-pointer" type="button" aria-expanded="false">
            <span class="text-section-subtitle font-semibold text-text tracking-tight">Do we own our domain?</span>
            <svg class="faq-chevron shrink-0 w-5 h-5 text-accent transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="faq-content overflow-hidden transition-[height] duration-300 ease-in-out" style="height: 0px;">
            <p class="text-body text-text-muted leading-relaxed pb-5">Yes, you always own your domain.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  {rendered.filter(s => s.data.section === "cta").map((section) => {
    const Content = section.rendered?.Content;
    const d = section.data;
    return (
      <CTA heading={d.heading} ctaText={d.cta_text} ctaLink={d.cta_link}>
        {Content && <Content />}
      </CTA>
    );
  })}
</Base>

<script>
  const faqItems = document.querySelectorAll('#faq-list .faq-item');

  // Set initial open state height and chevron
  faqItems.forEach((item) => {
    const content = item.querySelector('.faq-content') as HTMLElement;
    const chevron = item.querySelector('.faq-chevron') as SVGElement;
    if (item.getAttribute('data-open') === 'true') {
      content.style.height = content.scrollHeight + 'px';
      chevron.style.transform = 'rotate(180deg)';
    }
  });

  faqItems.forEach((item) => {
    const button = item.querySelector('.faq-button') as HTMLButtonElement;
    const content = item.querySelector('.faq-content') as HTMLElement;
    const chevron = item.querySelector('.faq-chevron') as SVGElement;

    button.addEventListener('click', () => {
      const isOpen = item.getAttribute('data-open') === 'true';

      // Close all
      faqItems.forEach((el) => {
        el.setAttribute('data-open', 'false');
        (el.querySelector('.faq-button') as HTMLButtonElement).setAttribute('aria-expanded', 'false');
        (el.querySelector('.faq-content') as HTMLElement).style.height = '0px';
        (el.querySelector('.faq-chevron') as SVGElement).style.transform = '';
      });

      // Open this one if it was closed
      if (!isOpen) {
        item.setAttribute('data-open', 'true');
        button.setAttribute('aria-expanded', 'true');
        content.style.height = content.scrollHeight + 'px';
        chevron.style.transform = 'rotate(180deg)';
      }
    });
  });

  // Card accordion logic (exactly one section open per card at all times)
  document.querySelectorAll('.card-accordion').forEach((accordion) => {
    const sections = accordion.querySelectorAll('.card-acc-section');

    const sectionArray = Array.from(sections);

    // Initialize heights and chevron visibility
    sectionArray.forEach((section, i) => {
      const content = section.querySelector('.card-acc-content') as HTMLElement;
      const chevron = section.querySelector('.card-acc-chevron') as SVGElement;
      if (section.getAttribute('data-open') === 'true') {
        content.style.height = content.scrollHeight + 'px';
        chevron.classList.add('hidden');
        if (i > 0) section.classList.remove('mt-auto');
      }
    });

    sectionArray.forEach((section, i) => {
      const button = section.querySelector('.card-acc-button') as HTMLButtonElement;

      button.addEventListener('click', () => {
        if (section.getAttribute('data-open') === 'true') return; // already open, do nothing

        // Close all sections in this card
        sectionArray.forEach((s, si) => {
          s.setAttribute('data-open', 'false');
          (s.querySelector('.card-acc-button') as HTMLButtonElement).setAttribute('aria-expanded', 'false');
          (s.querySelector('.card-acc-content') as HTMLElement).style.height = '0px';
          (s.querySelector('.card-acc-chevron') as SVGElement).classList.remove('hidden');
          if (si > 0) s.classList.add('mt-auto');
        });

        // Open clicked section
        const content = section.querySelector('.card-acc-content') as HTMLElement;
        const chevron = section.querySelector('.card-acc-chevron') as SVGElement;
        section.setAttribute('data-open', 'true');
        button.setAttribute('aria-expanded', 'true');
        content.style.height = content.scrollHeight + 'px';
        chevron.classList.add('hidden');
        if (i > 0) section.classList.remove('mt-auto');
      });
    });
  });
</script>
